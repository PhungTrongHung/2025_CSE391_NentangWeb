<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Form ÄÄƒng KÃ½</title>
  <link rel="stylesheet" href="style2.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- ThÆ° viá»‡n jQuery phiÃªn báº£n 3.6.0 -->
</head>
<body>

  <h2>Form ÄÄƒng KÃ½</h2>
<!-- Form Ä‘Äƒng kÃ½ ngÆ°á»i dÃ¹ng -->
  <form id="registerForm">
    <label>
      Há» tÃªn:
      <input type="text" id="fullname" name="fullname">
    </label>
    <label>
      Email:
      <input type="email" id="email" name="email">
    </label>
    <label>
      Máº­t kháº©u:
      <input type="password" id="password" name="password">
    </label>
    <button type="submit">ÄÄƒng kÃ½</button>
  </form>

  <div id="message"></div> <!-- Khu vá»±c hiá»ƒn thá»‹ thÃ´ng bÃ¡o thÃ nh cÃ´ng hoáº·c lá»—i -->

  <div id="congrats">
    <h3>ğŸ‰ ChÃºc má»«ng báº¡n Ä‘Ã£ Ä‘Äƒng kÃ½ thÃ nh cÃ´ng!</h3>
    <button id="detailsBtn">Xem chi tiáº¿t</button>
    <div id="details">
      <p>ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i há»‡ thá»‘ng! Vui lÃ²ng kiá»ƒm tra email Ä‘á»ƒ xÃ¡c nháº­n tÃ i khoáº£n cá»§a báº¡n.</p>
    </div>
  </div>

  <script>
    // Khi trang Ä‘Æ°á»£c táº£i xong vÃ  jQuery sáºµn sÃ ng
    $(document).ready(function () {
      console.log("jQuery is ready!");
        // Báº¯t sá»± kiá»‡n gá»­i form Ä‘Äƒng kÃ½
      $('#registerForm').on('submit', function (e) {
        e.preventDefault();
        let isValid = true;
        $('.error').remove(); // XÃ³a thÃ´ng bÃ¡o lá»—i cÅ©

        const name = $('#fullname').val().trim();
        const email = $('#email').val().trim();
        const password = $('#password').val();

        // Kiá»ƒm tra há» tÃªn
        if (name === '') {
          $('#fullname').after('<span class="error"> Vui lÃ²ng nháº­p há» tÃªn</span>');
          isValid = false;
        }

        // Kiá»ƒm tra email
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
          $('#email').after('<span class="error"> Email khÃ´ng há»£p lá»‡</span>');
          isValid = false;
        }

        // Kiá»ƒm tra máº­t kháº©u
        if (password.length < 6) {
          $('#password').after('<span class="error"> Máº­t kháº©u pháº£i Ã­t nháº¥t 6 kÃ½ tá»±</span>');
          isValid = false;
        }

        if (isValid) {
          // Gá»­i dá»¯ liá»‡u AJAX náº¿u há»£p lá»‡
          $.ajax({
            url: 'https://jsonplaceholder.typicode.com/posts',
            method: 'POST',
            data: {
              fullname: name,
              email: email,
              password: password
            },
            success: function (response) {
              $('#message').html('<p style="color: green;">ÄÄƒng kÃ½ thÃ nh cÃ´ng!</p>');
              $('#registerForm').slideUp();
              $('#congrats').fadeIn();
            },
            error: function () {
              $('#message').html('<p style="color: red;">Server báº­n, vui lÃ²ng thá»­ láº¡i sau.</p>');
            }
          });
        }
      });

      // Hiá»ƒn thá»‹ thÃ´ng tin chi tiáº¿t báº±ng hiá»‡u á»©ng
      $('#detailsBtn').on('click', function () {
        $('#details').slideToggle();
      });
    });
  </script>

</body>
</html>